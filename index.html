<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Partidos de F√∫tbol</title>
  <style>
    body { background: #1e1e2f; color: #ddd; font-family: sans-serif; margin: 0; padding: 1rem; }
    .tabs button { margin: 0.2em; padding: 0.5em 1em; background: #444; border: none; border-radius: 4px; color: #ddd; }
    .tabs button.selected { background: #005f99; }
    .tabs button:not(.selected):hover { background: #555; }
    .filters button { margin: 0.2em; padding: 0.4em 0.8em; background: #333; border: none; border-radius: 4px; color: #ddd; cursor: pointer; }
    .filters button.selected { background: #005f99; }
    .filters button:not(.selected):hover { background: #444; }
    .match { display: flex; align-items: center; justify-content: space-between; background: #282842; margin: 0.5em 0; padding: 0.8em; border-radius: 6px; }
    .team { display: flex; align-items: center; }
    .team img { width: 32px; height: 32px; margin-right: 0.5em; }
    .datetime { color: #bbb; }
  </style>
</head>
<body>

  <h1>‚öΩ Partidos de F√∫tbol</h1>

  <div class="tabs">
    <button id="btn-yesterday">‚ü® Yesterday</button>
    <button id="btn-today" class="selected">Today</button>
    <button id="btn-tomorrow">Tomorrow ‚ü©</button>
  </div>

  <h2>Ligas & Copas</h2>
  <div class="filters" id="league-filters">
    <!-- Example buttons; adjust with your actual league list -->
    <button data-league="Premier League" class="selected">Premier League</button>
    <button data-league="UEFA Europa League" class="selected">Europa League</button>
    <button data-league="La Liga" class="selected">La Liga</button>
  </div>

  <div id="matches"></div>

  <script>
    const defaultLogo = 'https://via.placeholder.com/32?text=üèÜ';

    const tabs = {
      'yesterday': document.getElementById('btn-yesterday'),
      'today': document.getElementById('btn-today'),
      'tomorrow': document.getElementById('btn-tomorrow'),
    };
    let currentTab = 'today';

    const filters = Array.from(document.querySelectorAll('#league-filters button'));
    filters.forEach(btn => {
      btn.addEventListener('click', () => {
        btn.classList.toggle('selected');
        loadMatches();
      });
    });

    Object.entries(tabs).forEach(([day, btn]) => {
      btn.addEventListener('click', () => {
        currentTab = day;
        Object.values(tabs).forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        loadMatches();
      });
    });

    function loadMatches() {
      fetch('datos.json')
        .then(r => r.json())
        .then(data => {
          const dateKeys = Object.keys(data).sort();
          let dateIndex = currentTab === 'yesterday' ? 0
                         : currentTab === 'today' ? 1
                         : 2;
          const date = dateKeys[dateIndex];
          const leagueSet = new Set(filters.filter(b => b.classList.contains('selected')).map(b => b.dataset.league));

          const matches = data[date] || [];
          const container = document.getElementById('matches');
          container.innerHTML = '';

          matches
            .filter(m => leagueSet.has(m.league.name))
            .forEach(m => {
              const el = document.createElement('div');
              el.className = 'match';
              el.innerHTML = `
                <div class="team">
                  <img src="${m.teams.home.logo || defaultLogo}" onerror="this.src='${defaultLogo}'" alt="">
                  ${m.teams.home.name}
                </div>
                <div class="datetime">${new Date(m.fixture.date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</div>
                <div class="team">
                  <img src="${m.teams.away.logo || defaultLogo}" onerror="this.src='${defaultLogo}'" alt="">
                  ${m.teams.away.name}
                </div>
              `;
              container.appendChild(el);
            });
        });
    }

    // Load initial matches
    loadMatches();
  </script>

</body>
</html>
